#include "main.h"

void opcontrol() {
  //------Init------
    //prints "opcontrol has started" on the brain screen.
	  pros::lcd::set_text(0, "opcontrol has started");

  pros::Task Arm (Arm_fn, (void*)"PROS", TASK_PRIORITY_DEFAULT, TASK_STACK_DEPTH_DEFAULT, "My Task");
  while (true) {
    //Restart all threads.
    if (master.get_digital_new_press(DIGITAL_DOWN)) {
      task_delete(my_task);
      task_delete(my_task);
      task_delete(my_task);
      task_delete(my_task);
      pros::delay(500);
      pros::Task Arm (Arm_fn, (void*)"PROS", TASK_PRIORITY_DEFAULT, TASK_STACK_DEPTH_DEFAULT, "My Task");
      pros::Task Arm (Intake_fn, (void*)"PROS", TASK_PRIORITY_DEFAULT, TASK_STACK_DEPTH_DEFAULT, "My Task");
      pros::Task Arm (Shooter_fn, (void*)"PROS", TASK_PRIORITY_DEFAULT, TASK_STACK_DEPTH_DEFAULT, "My Task");
      pros::Task Arm (DriveTrain_fn, (void*)"PROS", TASK_PRIORITY_DEFAULT, TASK_STACK_DEPTH_DEFAULT, "My Task");
    }
    //delay for background code execution.
    pros::delay(2);
  }
}
